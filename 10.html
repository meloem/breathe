<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

  <title>Breathe</title>
  <link href="starter-template.css" rel="stylesheet">

</head>

<body style="background-color: #1D3273">
    <div class="container">
      <div class="largeScreen centre">
      <label class="switch hidden-lg-up">
        <input type="checkbox">
        <div class="slider round" style="background-color:#D9A3A3;"></div>
      </label>

      <div class="icons">
        <a href="index.html" class="home-link">
           <img src="home.svg" alt="Home Icon" class="home">
         </a>
         <div class="menu-icon" onclick="toggleMenu()">
         <img src="frame3.svg" alt="Hamburger Icon" class="hamburger" id="hamburger">
         </div>
         <div class="menu-icon" onclick="randomizeBreathingTechnique()">
          <img src="random3.svg" alt="Randomize Icon" class="random" id="randomIcon">
        </div>
        <div onclick="toggleMusicIcon()">
          <img src="off3.svg" alt="Music Icon" class="music" id="musicIcon">
        </div>
       </div>

       <audio id="sereneAudio" src="audio.mp3"></audio>


    <div id="dropdownMenu" class="dropdown-menu">
      <a href="./box-breathing.html">Box breathing</a>
      <a href="./478.html">478 technique</a>
      <a href="./10.html">10 in 10 out</a>
  </div>

    <script>
      // JavaScript to toggle the dropdown menu
      function toggleMenu() {
          var menu = document.getElementById("dropdownMenu");
          if (menu.style.display === "none" || menu.style.display === "") {
              menu.style.display = "block";
          } else {
              menu.style.display = "none";
          }
      }
      </script>

<!-- <div class="ellipse-container">
  <div id="counter">1</div> -->

  <div class="centered-container">
    <div class="fullellipse">
    <img src="triangle.svg" alt="triangle" class="triangle">
    <div id="counter2">1</div>
    </div>
    <h1 class="mainLang-10 text-animated-10">Sync your breathing</h1>
</div>
        </div>
    </div>
  </div>
  <footer class="site-footer-10">
    <a href="about.html">About</a>
</footer>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
  <script src="script.js"></script>

  <script>
    let count = 1;
    setInterval(() => {
      document.getElementById('counter').textContent = count;
      count = count >= 5 ? 1 : count + 1;
    }, 1000); // Update the count every 1000 milliseconds (1 second)
    </script>
<script>
  let count2 = 1;
  let totalSeconds2 = 0; // Track the total seconds to determine the phase
  const counter2 = document.getElementById('counter2');
  const textDisplay2 = document.querySelector('.mainLang-10.text-animated-10'); // Get the h1 element

  function updateCounter2() {
    counter2.textContent = count2.toString();
    totalSeconds2++; // Increment the total seconds

    // Update the h1 text based on the current phase
    if (totalSeconds2 <= 10) {
      textDisplay2.textContent = "Breathe in for 10";
    } else {
      textDisplay2.textContent = "Breathe out for 10";
    }

    // Increment the counter and reset if it reaches beyond 10
    if (count2 >= 10) {
      count2 = 1; // Reset the counter after 10
    } else {
      count2++;
    }

    // Reset the total seconds after 20 to restart the cycle
    if (totalSeconds2 > 20) {
      totalSeconds2 = 1; // Reset the total seconds to start a new cycle
    }

    // Repeat the function every second
    setTimeout(updateCounter2, 1000);
  }

  // Initialize the counter immediately
  updateCounter2();
</script>

<script>
  function randomizeBreathingTechnique() {
    const pages = ['./box-breathing.html', './478.html', './10.html'];

    // Get a random page
    let randomPage = pages[Math.floor(Math.random() * pages.length)];

    // Add a unique timestamp or random number as a query string to the URL
    const uniqueString = '?t=' + new Date().getTime();

    // Check if the random page is the same as the current page
    if (window.location.pathname.includes(randomPage.replace('./', ''))) {
      // If it's the same page, call the function again to get a new page
      randomizeBreathingTechnique();
    } else {
      // If it's a different page, navigate to the new page with the unique query string
      window.location.href = randomPage + uniqueString;
    }
  }
</script>
<script>
  function toggleMusicIcon() {
    const musicIcon = document.getElementById('musicIcon');

    // Check if the icon is currently showing 'on'
    if (musicIcon.getAttribute('src') === 'on3.svg') {
      musicIcon.setAttribute('src', 'off3.svg');  // If so, switch to 'off'
    } else {
      musicIcon.setAttribute('src', 'on3.svg');  // Otherwise, switch back to 'on'
    }
  }
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const musicIcon = document.getElementById('musicIcon');
    const audio = document.getElementById('sereneAudio');

    // Assuming music should be off initially
    musicIcon.src = 'off3.svg'; // Start with the 'off' icon
    audio.pause();

    window.toggleMusicIcon = function() {
      if (musicIcon.src.includes('off3.svg')) {
        // If the 'off' icon is displayed, play the music and switch to the 'on' icon
        audio.play();
        musicIcon.src = 'on3.svg';
      } else {
        // If the 'on' icon is displayed, stop the music, switch to the 'off' icon, and reset the song
        audio.pause();
        audio.currentTime = 0;  // Reset the song to the beginning
        musicIcon.src = 'off3.svg';
      }
    };
  });
</script>
</body>
</html>
